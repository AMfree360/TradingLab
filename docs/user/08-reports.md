# Reports and Interpretation Guide

This guide explains how to read and interpret the reports generated by Trading Lab. Understanding these reports is crucial for evaluating your strategies.

## Types of Reports

Trading Lab generates two main types of reports:

1. **Backtest Reports**: Results from a single backtest
2. **Validation Reports**: Results from validation tests (walk-forward, Monte Carlo)

Both reports are saved as HTML files in the `reports/` folder and can be opened in any web browser.

## Backtest Report

### Opening the Report

After running a backtest, you'll find the report in `reports/backtest_report_TIMESTAMP.html`. Open it in your web browser.

### Report Sections

#### 1. Header Information

Shows:
- **Generated**: When the report was created
- **Strategy**: Name of the strategy tested

#### 2. Key Metrics Dashboard

Color-coded cards showing the most important metrics:

- **Green**: Good values
- **Red**: Concerning values

**Metrics shown**:
- Total Return (%)
- Profit Factor
- Sharpe Ratio
- Sortino Ratio
- CAGR
- Max Drawdown
- Win Rate
- Total Trades

#### 2a. Edge Latency Section (NEW)

Shows statistical edge detection metrics:
- **Required Trades**: Number of trades needed to detect edge with 95% confidence
- **Years to Significance**: Time required to reach required trades
- **Signal Ratio (μ/σ)**: Mean R-multiple / Std R-multiple

**Color coding**:
- **Green**: < 150 trades (Strong/Moderate edge)
- **Red**: > 150 trades (Weak edge, may be impractical)

See [Edge Latency Guide](edge-latency-metric.md) for detailed interpretation.

#### 3. Equity Curve Chart

An interactive chart showing your account value over time.

**How to read it**:
- **Upward trend**: Good - making money
- **Smooth upward**: Excellent - consistent profits
- **Large dips**: Concerning - high drawdowns
- **Flat periods**: Strategy might not be working

**Interacting with the chart**:
- Hover over points to see exact values
- Zoom in/out using the toolbar
- Download as image if needed

#### 4. Detailed Metrics Table

Complete list of all calculated metrics:

**Basic Metrics**:
- Initial/Final Capital
- Total P&L
- Commission/Slippage costs
- Win/Loss statistics
- Average win/loss amounts

**Enhanced Metrics**:
- **CAGR**: Compound Annual Growth Rate
- **Recovery Factor**: Total P&L ÷ Max Drawdown
- **Calmar Ratio**: CAGR ÷ Max Drawdown %
- **Expectancy**: Average P&L per trade
- **Kelly %**: Optimal position sizing percentage
- **Ulcer Index**: Measure of drawdown severity
- **Edge Latency**: Number of trades needed to detect edge (see [Edge Latency Guide](edge-latency-metric.md))

### Understanding Key Metrics

#### Profit Factor (PF)

**What it means**: How much profit per dollar lost

**Interpretation**:
- **PF > 2.0**: Excellent
- **PF 1.5-2.0**: Good
- **PF 1.2-1.5**: Acceptable
- **PF < 1.2**: Poor (barely profitable)

**Example**: PF of 1.85 means you made $1.85 for every $1 lost.

#### Sharpe Ratio

**What it means**: Risk-adjusted return (higher is better)

**Interpretation**:
- **Sharpe > 2.0**: Excellent
- **Sharpe 1.0-2.0**: Good
- **Sharpe 0.5-1.0**: Acceptable
- **Sharpe < 0.5**: Poor

**Example**: Sharpe of 1.42 means good risk-adjusted returns.

#### Sortino Ratio

**What it means**: Like Sharpe, but only considers downside risk

**Interpretation**:
- **Sortino > 2.0**: Excellent
- **Sortino 1.0-2.0**: Good
- **Sortino < 1.0**: Poor

**Why it matters**: Some strategies have high upside volatility (good) but low downside volatility (also good). Sortino captures this better than Sharpe.

#### Max Drawdown

**What it means**: Largest peak-to-trough decline

**Interpretation**:
- **< 10%**: Excellent
- **10-20%**: Good
- **20-30%**: Acceptable
- **> 30%**: Concerning

**Example**: 8.5% drawdown means your account dropped 8.5% from its highest point.

#### Win Rate

**What it means**: Percentage of winning trades

**Interpretation**:
- **Depends on strategy type**
- **Trend-following**: Often 30-40% (but large wins)
- **Mean reversion**: Often 50-60% (but smaller wins)
- **Scalping**: Often 60-70% (many small wins)

**Important**: Win rate alone doesn't tell the whole story. A 40% win rate with PF > 2.0 can be excellent!

#### CAGR

**What it means**: Average yearly return

**Interpretation**:
- **> 30%**: Excellent (but verify it's sustainable)
- **20-30%**: Very good
- **10-20%**: Good
- **< 10%**: Might not be worth the risk

**Example**: 24.5% CAGR means your account grew 24.5% per year on average.

### Reading the Equity Curve

The equity curve is the most visual way to understand your strategy's performance.

#### Good Equity Curves

✅ **Smooth upward slope**: Consistent profits
✅ **Small, infrequent dips**: Good risk management
✅ **Recovery after dips**: Strategy bounces back
✅ **Steady growth**: Not too volatile

#### Concerning Equity Curves

⚠️ **Large, frequent dips**: Poor risk management
⚠️ **Long flat periods**: Strategy stops working
⚠️ **Declining trend**: Strategy might be broken
⚠️ **Extreme volatility**: Too risky

## Validation Report

### Opening the Report

After running validation, find `reports/validation_report_TIMESTAMP.html` and open it in your browser.

### Report Sections

#### 1. Walk-Forward Analysis Section

**Summary Table**:
- Total steps completed (included/excluded)
- Mean test PF (average across all test periods)
- Standard deviation (consistency measure)
- Min/Max test PF (worst/best periods)
- Consistency score (0-1, higher is better)
- Walk-Forward Efficiency (WFE) - test PF vs train PF ratio
- OOS Consistency Score - % of periods meeting threshold
- Binomial test p-value - statistical significance

**Steps Table**:
Shows each train/test period with:
- Train period dates
- Test period dates
- Train/Test trade counts
- Train PF (for reference)
- Test PF (what matters!)
- Train/Test Sharpe ratios
- Exclusion status (if period had insufficient trades)

**Excluded Periods Section**:
- Lists periods excluded from statistical calculations
- Shows reason for exclusion (e.g., "Insufficient trades: 17 < 30")
- These periods are still recorded for transparency

**What to look for**:
- ✅ Test PF consistently > 1.5
- ✅ Low standard deviation
- ✅ Test PF close to Train PF (not overfitted)
- ✅ Consistency score > 0.7
- ✅ WFE ≥ 60% (test performance ≥ 60% of train performance)
- ✅ OOS Consistency ≥ 60% (most periods meet threshold)
- ✅ Binomial p-value ≤ 0.1 (statistically significant)

#### 1a. Walk-Forward Visualizations (New!)

**Equity Curve (Log Scale)**:
- Interactive chart showing cumulative equity over time
- Log scale for accurate percentage change visualization
- Visual separation of IS (In-Sample) and OOS (Out-of-Sample) periods
- Color-coded: Green for IS periods, Blue for OOS periods
- Grey dashed lines for excluded periods
- PF annotations for each OOS period
- **How to read**: Smooth upward trend = good, large dips = concerning

**Drawdown Chart**:
- Separate chart showing drawdown percentage over time
- Industry-standard calculation: (Peak - Current) / Peak × 100
- Inverted y-axis (0% at top, higher % going down = deeper drawdown)
- Shows maximum drawdown periods
- **How to read**: Lower drawdown = better, spikes = concerning periods

**WFE Waterfall Chart**:
- Bar chart showing Walk-Forward Efficiency for each OOS period
- Color-coded: Green (≥60%), Yellow (40-60%), Red (<40%)
- Horizontal line at 60% threshold
- Tooltips show exact WFE values
- **How to read**: All bars green = excellent, many red = overfitting detected

#### 2. Monte Carlo Suite Section

Shows a **suite** of Monte Carlo tests, each labeled by category:

- **UNIVERSAL (gating)**: Used for Phase 1 pass/fail when suitable (typically permutation + block bootstrap)
- **CONDITIONAL (informational)**: Reported for diagnosis, not used for gating by default (typically randomized-entry)

The report includes:
- A **Monte Carlo Summary** table (test name, category, used-for-gating, and per-metric p-values/percentiles)
- **Combined Robustness (Universal / Gating)**: Combined score/percentile computed only from suitable universal tests
- **Combined Robustness (All Suitable / Info)**: Combined score/percentile computed from all tests that ran (universal + conditional)
- Clear **skip reasons** when a test is unsuitable or aborted

**What to look for (Phase 1 gating)**:
- ✅ Universal combined score and percentile meet thresholds
- ✅ Majority of suitable universal tests pass (each test uses majority rule across its metrics)
- ✅ Conditional tests are used as signals for improvements, not hard gates

#### 3. Enhanced Metrics Section

Same metrics as backtest report, but calculated on full dataset.

## Interpreting Results

### Scenario 1: Excellent Results

**Backtest**:
- PF: 2.1
- Sharpe: 1.8
- Max DD: 6.5%
- Win Rate: 55%

**Validation**:
- Mean Test PF: 1.9
- Consistency: 0.85
- Universal MC combined robustness: PASS

**Interpretation**: Strong strategy! Proceed with caution to live trading.

### Scenario 2: Good but Needs Work

**Backtest**:
- PF: 1.6
- Sharpe: 1.2
- Max DD: 12%
- Win Rate: 48%

**Validation**:
- Mean Test PF: 1.4
- Consistency: 0.65
- Universal MC combined robustness: borderline / FAIL

**Interpretation**: Decent strategy, but:
- Test PF lower than train (slight overfitting)
- Consistency could be better
- Consider optimization or simplification

### Scenario 3: Poor Results

**Backtest**:
- PF: 1.1
- Sharpe: 0.3
- Max DD: 25%
- Win Rate: 45%

**Validation**:
- Mean Test PF: 0.9
- Consistency: 0.4
- Universal MC combined robustness: FAIL

**Interpretation**: Strategy not working:
- Losing money on test data
- High chance results are random
- Needs significant revision or should be abandoned

## Common Patterns

### Pattern 1: Overfitting

**Signs**:
- Train PF much higher than Test PF
- Test PF declining over time
- High standard deviation

**What it means**: Strategy only works on training data, not real markets.

**Solution**: Simplify strategy, reduce parameters, test on more data.

### Pattern 2: Market Regime Change

**Signs**:
- Good results early, poor results later
- Test PF varies significantly by period
- Certain time periods consistently fail

**What it means**: Strategy works in some market conditions but not others.

**Solution**: Add market regime filters, or accept strategy has limitations.

### Pattern 3: Random Luck

**Signs**:
- High p-values (> 0.20)
- Low percentile ranks
- Inconsistent results

**What it means**: Results might be due to luck, not skill.

**Solution**: Revise strategy logic, get more data, or abandon.

## Best Practices for Reading Reports

### 1. Look at Multiple Metrics

Don't focus on just one metric. Consider:
- Profit factor AND Sharpe ratio
- Win rate AND average win/loss
- Total return AND max drawdown

### 2. Compare Train vs Test

In validation reports, compare:
- Train PF vs Test PF (should be similar)
- Train Sharpe vs Test Sharpe
- If test is much worse, you're overfitting

### 3. Check Consistency

Look for:
- Low standard deviation
- High consistency score
- Similar results across time periods

### 4. Consider Context

- **Market conditions**: Bull vs bear market
- **Time period**: Recent vs historical
- **Data quality**: Clean vs noisy data

### 5. Be Realistic

- Perfect results are suspicious (might be overfitted)
- Some drawdowns are normal
- Not every strategy will work

## Exporting Data

Reports also generate JSON files with all the raw data. You can:
- Import into Excel for further analysis
- Create custom visualizations
- Share with others
- Track changes over time

## Next Steps

After reviewing reports:

- **If results are good**: Consider [Optimization](OPTIMIZATION.md) or [Live Trading](LIVE_TRADING.md)
- **If results need improvement**: Review [Strategy Development](STRATEGY_DEVELOPMENT.md)
- **To understand metrics better**: Re-read relevant sections of this guide

## Summary

Reports are your window into strategy performance. Learn to read them well, and you'll:
- Identify good strategies quickly
- Spot problems before they cost money
- Make informed decisions about optimization
- Build confidence in your approach

Take time to understand each metric and what it means for your specific strategy!

