const fs=require('fs'); const src=fs.readFileSync('gui_launcher/static/js/guided_builder_v2.js','utf8'); const lines=src.split('\n'); let depth=0; for(let i=0;i<lines.length;i++){ const ln=lines[i]; // show around target range if(i+1>=900 && i+1<=980){ console.log((i+1).toString().padStart(4), 'depthBefore', depth, ' | ', ln); } for(const ch of ln){ if(ch==='{' ) depth++; else if(ch==='}') depth--; } if(i+1>=900 && i+1<=980){ console.log((i+1).toString().padStart(4), 'depthAfter ', depth, '\n'); } } console.log('final depth', depth);