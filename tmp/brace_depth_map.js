const fs=require('fs'); const s=fs.readFileSync('gui_launcher/static/js/guided_builder_v2.js','utf8'); const lines=s.split('\n'); let depth=0; for(let i=0;i<lines.length;i++){ const ln=lines[i]; let before=depth; for(const ch of ln){ if(ch==='{' ) depth++; else if(ch==='}') depth--; } let after=depth; if(i+1>1200) console.log(i+1, 'before', before, 'after', after, ln); } console.log('final', depth);