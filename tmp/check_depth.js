const fs=require('fs'); const src=fs.readFileSync('gui_launcher/static/js/guided_builder_v2.js','utf8'); const lines=src.split('\n'); let depth=0; for(let i=0;i<lines.length;i++){ const ln=lines[i]; if(ln.includes('function ruleRow(')) console.log('LINE',i+1,'function ruleRow depth',depth); if(ln.includes('if (section')||ln.includes('if(section')) console.log('LINE',i+1,'if(section) depth',depth,ln.trim()); for(const ch of ln){ if(ch==='{' ) depth++; else if(ch==='}') depth--; } }